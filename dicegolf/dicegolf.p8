pico-8 cartridge // http://www.pico-8.com
version 43
__lua__
function _init()
	p_init()
	map_init()
end

function _update()
 club_cycle()
 swing()
end

function _draw()
 cls()
 
 --upper right cheat sheet
 --() - this is code 
 --ðŸ± - tiles and spirtes
 --â–’ - map
 --â¬…ï¸ - sounds
 --â™ª - patterns
 
 --draws the map
 map()
 
 --printout statements
 print(club_select.."   "..
 clubs[club_select].name.." pow="..
 clubs[club_select].pow.." dex="..
 clubs[club_select].dex)
 --[[for f in all(clubs) do
  print(f.name.." "..f.dire)
 end --]]
 print("direction:"..s_direction
 .."  distance:"..s_distance)
 print("cur_x:"..cur_ball_x)
 print("strokes:"..strokes)
 draw_course()
 
 if (btnp(âŽ)) then
  strokes +=1
  cur_ball_x += s_distance
  prev_shot = s_distance/2
 end
 circ(cur_ball_x-prev_shot
      ,125,s_distance/2,7)
 
 if (cur_ball_x >= green_edge or 
     s_distance == 20) then
 print("on green")
 end
 if (cur_ball_x > 127) then
 print("out of bounds")
 end
end
-->8
--p_init player stuff
function p_init()
 strokes=0
 club_select=1
 clubs={}
 s_direction=0
 s_distance=0
 
 add(clubs,{name="driver",
     pow=20,
     dex=20})
 add(clubs,{name="3 wood",
     pow=16,
     dex=18})
 --{"3 wood",dire=16,dist=18},
 --{"5 wood",dire=12,dist=12},
 add(clubs,{name="2 iron",
     pow=14,
     dex=17})
 --{"3 iron",dire=12,dist=16}
          --more--!
 --club_select=clubs.name[1]
end
-->8
--math functions --
function dice_roll(sides)
 roll = 1+flr(rnd(sides))
 return roll
end
 
-->8
--gameplay functions
function club_cycle()
 if (btnp(â¬†ï¸) and club_select!=count(clubs)) then --and not the end
  club_select=club_select+1
 end
 if (btnp(â¬‡ï¸) and club_select!=1) then
  club_select=club_select-1
 end  
end

function swing()
 if (btnp(âŽ)) then
  s_direction=dice_roll(clubs[club_select].pow)
  s_distance=dice_roll(clubs[club_select].dex)
 end
end

-->8
--map stuff
function map_init()
end

prev_shot = 0
cur_ball_x = 0
green_edge = 91
flagpole = 120

function draw_course()
 rectfill(0,127,120,127,3)
 --rectfill(60,90,120,127,10)
 rectfill(green_edge,127,120,127,11)
 
 --the fake flagpole
 for i=120, 126 do
  pset(115,i,7)
 end
 for i=110, 114 do
  pset(i,120,8)
 end

 
end
__gfx__
0000000000000000bbbbb3b33b3bbbbbbbbbbbbb3333333333333333bbbbbbbb0000666006660000000000000000000000000000000000000000000000000000
0000000000000000bbbbbb3333bbbbbbbbbbbbbb333333333b3b3b3bbbbbbbbb0000000660000000000000000000000000000000000000000000000000000000
0070070000067000bbbbb3b33b3bbbbbbbbbbbbb33333333b3b3b3b3bbbbbbbb0000000660000000000000000000000000000000000000000000000000000000
0007700000776700bbbbbb3333bbbbbbbbbbbbbb333333333b3b3b3bbbbbbbbb0000000660000000000000000000000000000000000000000000000000000000
0007700000767600bbbbb3b33b3bbbbbbbbbbbbb33333333bbbbbbbbbbbbbbbb0000000660000000000000000000000000000000000000000000000000000000
0070070000077000bbbbbb3333bbbbbbbbbbbbbb33333333bbbbbbbbb3b3b3b30000000660000000000000000000000000000000000000000000000000000000
0000000000000000bbbbb3b33b3bbbbbbbbbbbbb33333333bbbbbbbb3b3b3b3b0000000660000000000000000000000000000000000000000000000000000000
0000000000000000bbbbbb3333bbbbbbbbbbbbbb33333333bbbbbbbbb3b3b3b30000666006660000000000000000000000000000000000000000000000000000
3333333333333333333bbbbbbbbbb333bbbbbbbb33333b33bbbbbbbb000000000000000000000000000000000000000000000000000000000000000000000000
333333333333333333b3bbbbbbbb3b33bbbbbbbb3333b33300000000000000000000000000000000000000000000000000000000000000000000000000000000
333333b33b333333333b3bbbbbb3b333bbb00bbb3b33b33300000000000000000000000000000000000000000000000000000000000000000000000000000000
33333b3bb3b333333333b3bbbb3b3333bb0000bb33b3333300000000000000000000000000000000000000000000000000000000000000000000000000000000
3333b3bbbb3b333333333b3bb3b33333bb0000bb33b333b300000000000000000000000000000000000000000000000000000000000000000000000000000000
333b3bbbbbb3b333333333b33b333333bbb00bbb33333b3300000000000000000000000000000000000000000000000000000000000000000000000000000000
33b3bbbbbbbb3b333333333333333333bbbbbbbb33333b3300000000000000000000000000000000000000000000000000000000000000000000000000000000
333bbbbbbbbbb3333333333333333333bbbbbbbb3333333300000000000000000000000000000000000000000000000000000000000000000000000000000000
__gff__
0001808080008080000000000000000080808080400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0505151515150505050505050505050000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0515151515150505100606061105050000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0515151515050505030414040205050000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0515151505050505030404040205050000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0515151505050505120707071305050000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0515150505050505050505050505050000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505050505050505050505050515150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505050505050505050515151515150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505050505050505051515151515150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505050505050505151515151515150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505050505050505151515151515150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505090108050505151515151515150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505050505050505151515151515150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
00020000000000000013050180501b0501e0501f050160501405014050140500000014050150500000017050000001c0500000000000000000000000000000000000000000000000000000000000000000000000
