pico-8 cartridge // http://www.pico-8.com
version 43
__lua__
function _init()
	p_init()
	map_init()
end

function _update()
 club_cycle()
 swing()
end

function _draw()
 cls()
 print(club_select.."   "..
 clubs[club_select].name.." pow="..
 clubs[club_select].pow.." dex="..
 clubs[club_select].dex)
 --[[for f in all(clubs) do
  print(f.name.." "..f.dire)
 end --]]
 print("direction:"..s_direction
 .."  distance:"..s_distance)
 print("cur_x:"..cur_ball_x)
 draw_course()
 
 if (btnp(❎)) then
  cur_ball_x += s_distance
  prev_shot = s_distance/2
 end
 circ(cur_ball_x-prev_shot
      ,125,s_distance/2,7)
 
 if (cur_ball_x >= green_edge or 
     s_distance == 20) then
 print("on green")
 end
 if (cur_ball_x > 127) then
 print("out of bounds")
 end
end
-->8
--p_init player stuff
function p_init()
 strokes=0
 club_select=1
 clubs={}
 s_direction=0
 s_distance=0
 
 add(clubs,{name="driver",
     pow=20,
     dex=20})
 add(clubs,{name="3 wood",
     pow=16,
     dex=18})
 --{"3 wood",dire=16,dist=18},
 --{"5 wood",dire=12,dist=12},
 add(clubs,{name="2 iron",
     pow=14,
     dex=17})
 --{"3 iron",dire=12,dist=16}
          --more--!
 --club_select=clubs.name[1]
end
-->8
--math functions --
function dice_roll(sides)
 roll = 1+flr(rnd(sides))
 return roll
end
 
-->8
--gameplay functions
function club_cycle()
 if (btnp(⬆️) and club_select!=count(clubs)) then --and not the end
  club_select=club_select+1
 end
 if (btnp(⬇️) and club_select!=1) then
  club_select=club_select-1
 end  
end

function swing()
 if (btnp(❎)) then
  s_direction=dice_roll(clubs[club_select].pow)
  s_distance=dice_roll(clubs[club_select].dex)
 end
end

-->8
--map stuff
function map_init()
end

prev_shot = 0
cur_ball_x = 0
green_edge = 91

function draw_course()
 rectfill(0,127,120,127,3)
 --rectfill(60,90,120,127,10)
 rectfill(green_edge,127,120,127,11)
 for i=120, 126 do
  pset(115,i,7)
 end
 for i=110, 114 do
  pset(i,120,8)
 end
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000670000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000007767000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000007676000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000001010101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000001000000010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000001000000000101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000001010000000000000001010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000010101010100000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0001010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
00020000000000000013050180501b0501e0501f050160501405014050140500000014050150500000017050000001c0500000000000000000000000000000000000000000000000000000000000000000000000
000c00000041000440004400044000410004400044000440004100044000440004400041000440004400044000410004400044000440004100044000440004400041000440004400044000410004400044000440
000c00000c0430000024600246000c0430c00000000000000c043000000c000000000c04300000000000c0000c0430000000000000000c0430000000000000000c0430c00000000000000c043000000c00000000
000c00000000000000000000000024615246000000000000246000000000000000002461500000000002460024600000000000000000246150000000000000002460024600000002460024615246002461524600
010c000018052110001c052140001f052210001a0521f0001700018000190001b0001c0001d0001e0001f00000000000000000000000000000000000000000000000000000000000000000000000000000000000
360c00002303221032230322300021000210002100023000100000e0001000023000280322603228032230001b0001a00019000180002d7713970015000230003977111000100000f0000e0001b0001a00019000
__music__
01 01020304
00 01020304
02 01020305

